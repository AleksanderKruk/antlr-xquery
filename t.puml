@startuml Pobr proces przetwarzania
skinparam wrapWidth 150

|Detekcja czerwonego okręgu|
start

:Pobierz momenty wzorcowego okręgu;
:Pobierz momenty wzorcowej cyfry 3;
:Pobierz momenty wzorcowej cyfry 0;

:Rozciągnij histogram obrazu;
:Proguj czerwony kolor;
:Erozja sprogowanego obrazu;
while (nie przetworzono wszystkich kształtów?)
:Znajdź kształt;
note
Kształt np. jako jednolity obszar sprogowanych pikseli
end note
:Wyznacz momenty kształtu;
if (momenty kształu podobne w marginesie błędu do momentów okręgu?) then (znaleziono czerwony okrąg)
:Zapisz obszar czerwonego okręgu;
note
    Obszar czerwonego okręgu posłuży nam jednocześnie za obszar wykrytego znaku
end note

    |Detekcja białego koła|

    :Sproguj biały kolor wewnątrz obszaru czerwonego okręgu;
    :Policz procent białych pikseli;

    if (Procent białych pikseli przekracza próg akceptacji) then (tak)
        |Detekcja liczby 30|
        :Sproguj czarny kolor wewnątrz obszaru czerwonego okręgu;
        while (Nie przetworzono wszystkich kształtów?) is (tak)
            :Znajdź kształt;
            :Wyznacz momenty kształtu;
            if (Momenty podobne do cyfry 3 w marginesie błędu?) then (znaleziono cyfrę 3)
                :Zapisz obszar cyfry 3;
            elseif (Momenty podobne do cyfry 0 w marginesie błędu?) then (znaleziono cyfrę 0)
                :Zapisz obszar cyfry 0;
            else (następny kształtt)
            :;
            note
                Możnaby szukać inne cyfry
                by wykluczyć obecność innych cyfr
            end note
            endif
            if (Czy wykryto 3 i 0?) then (tak)
                if (Cyfra 3 po lewo od cyfry 0?) then (tak)
                :Zaznacz pudełko ograniczające czerwonego okręgu;
                endif
        endif
        endwhile

    else (nie)

    endif



else (następny kształt)

endif

endwhile
|Detekcja czerwonego okręgu|
stop

@enduml